{% extends 'usuarios/cuenta/mi_cuenta.html' %}
{% load static %}

{% block content %}
<div class="profile-header">
    <h1>Mi Perfil</h1>
    <p>Gestiona tu información personal</p>
    <a href="{% url 'editar_perfil' %}" class="btn btn-primary">
        <i class="bi bi-pencil"></i> Editar Perfil
    </a>
</div>

<div class="profile-content">
    <!-- Información Básica -->
    <div class="profile-section">
        <h2>Información Personal</h2>
        <div class="info-grid">
            <div class="info-item">
                <label>Nombre</label>
                <p>{{ perfil.nombre|default:"No especificado" }}</p>
            </div>
            <div class="info-item">
                <label>Apellido</label>
                <p>{{ perfil.apellido|default:"No especificado" }}</p>
            </div>
            <div class="info-item">
                <label>Correo Electrónico</label>
                <p>{{ user.email }}</p>
            </div>
            <div class="info-item">
                <label>Teléfono</label>
                <p>{{ perfil.telefono|default:"No especificado" }}</p>
            </div>
        </div>
    </div>

    <!-- Información de Documentación -->
    <div class="profile-section">
        <h2>Documentación</h2>
        <div class="info-grid">
            <div class="info-item">
                <label>Tipo de Documento</label>
                <p>{{ perfil.get_tipo_documento_display|default:"No especificado" }}</p>
            </div>
            <div class="info-item">
                <label>Número de Documento</label>
                <p>{{ perfil.numero_documento|default:"No especificado" }}</p>
            </div>
        </div>
    </div>

    <!-- Información Adicional -->
    <div class="profile-section">
        <h2>Información Adicional</h2>
        <div class="info-grid">
            <div class="info-item">
                <label>Género</label>
                <p>{{ perfil.get_genero_display|default:"No especificado" }}</p>
            </div>
            <div class="info-item">
                <label>Fecha de Nacimiento</label>
                <p>{{ perfil.fecha_nacimiento|date:"d/m/Y"|default:"No especificado" }}</p>
            </div>
        </div>
    </div>

    <!-- Información de la Cuenta -->
    <div class="profile-section">
        <h2>Información de la Cuenta</h2>
        <div class="info-grid">
            <div class="info-item">
                <label>Fecha de Registro</label>
                <p>{{ user.date_joined|date:"d/m/Y" }}</p>
            </div>
            <div class="info-item">
                <label>Último Inicio de Sesión</label>
                <p>{{ user.last_login|date:"d/m/Y H:i"|default:"Nunca" }}</p>
            </div>
        </div>
    </div>

    {% if not perfil.nombre %}
    <div class="profile-alert">
        <div class="alert-icon">
            <i class="bi bi-info-circle"></i>
        </div>
        <div class="alert-content">
            <h3>Completa tu perfil</h3>
            <p>Tu perfil está incompleto. Completa tu información personal para una mejor experiencia de compra.</p>
            <a href="{% url 'editar_perfil' %}" class="btn btn-primary">Completar Perfil</a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}